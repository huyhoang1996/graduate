<div class="row helio-embed">
    <fieldset class="scheduler-border">
    <legend class="scheduler-border">THÔNG TIN THẺ HELIO EMBED</legend>
        <div class="col-xs-6 col-sm-6">
            <ng-container *ngIf="msg_error">
                <p *ngFor="let error of msg_error | mapToIterable" class="msg_error">
                    {{error.val}}
                </p>
            </ng-container>
            <form [formGroup]="embedForm" novalidate class="form-user-embed">
                <div class="form-group row">
                    <div class="col-sm-5 form-check">
                        &emsp;&emsp;
                        <label class="col-form-label form-check-label">Card Barcode</label>
                    </div>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" formControlName="barcode"
                        [attr.disabled]="dis_input_embed.barcode ? 'disabled' : null" 
                        (input)="stripText(ref_barcode.value, 'barcode')" #ref_barcode/>
                        <show-error-valid [control]="embedForm.get('barcode')"></show-error-valid>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-5 form-check">
                        <input class="form-check-input" type="checkbox" [disabled]="is_disable_checkbox"
                        (change)="dis_input_embed.full_name = !dis_input_embed.full_name" />&emsp;
                        <label class="col-form-label form-check-label">Họ Và Tên</label>
                    </div>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" formControlName="full_name"
                        [attr.disabled]="dis_input_embed.full_name ? 'disabled' : null" 
                        [class.error_user]="status_error.full_name"/>
                        <show-error-valid [control]="embedForm.get('full_name')"></show-error-valid>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-5 form-check">
                        <input class="form-check-input" type="checkbox" [disabled]="is_disable_checkbox"
                        (change)="dis_input_embed.email = !dis_input_embed.email" />&emsp;
                        <label class="col-form-label form-check-label">Email</label>
                    </div>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" formControlName="email" 
                        (input)="stripEmail(ref_email.value)" #ref_email
                        [attr.disabled]="dis_input_embed.email ? 'disabled' : null" 
                        [class.error_user]="status_error.email"/>
                        <ul class="error_valid" 
                            *ngIf="embedForm.get('email') && embedForm.get('email')?.errors && (embedForm.get('email').dirty || embedForm.get('email').touched)">
                            <li style="color: red" *ngIf="embedForm.get('email').errors?.required">Trường này không được bỏ trống</li>
                            <li style="color: red" *ngIf="!embedForm.get('email').errors?.required && embedForm.get('email').errors?.email">
                                Email không đúng định dạng
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-5 form-check">
                        <input class="form-check-input" type="checkbox" [disabled]="is_disable_checkbox"
                        (change)="dis_input_embed.phone = !dis_input_embed.phone" />&emsp;
                        <label class="col-form-label form-check-label">Số Điện Thoại</label>
                    </div>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" formControlName="phone" 
                        (input)="stripText(ref_phone.value, 'phone')" #ref_phone
                        [attr.disabled]="dis_input_embed.phone ? 'disabled' : null" 
                        [class.error_user]="status_error.phone"/>
                        <show-error-valid [control]="embedForm.get('phone')"></show-error-valid>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-5 form-check">
                        <input class="form-check-input" type="checkbox" [disabled]="is_disable_checkbox"
                        (change)="dis_input_embed.birth_date = !dis_input_embed.birth_date" />&emsp;
                        <label class="col-form-label form-check-label">Ngày Sinh</label>
                    </div>
                    <div class="col-sm-7 input-group custom-date">
                        <input type="text" class="form-control event-date" formControlName="birth_date" 
                            [class.error_user]="status_error.birth_date"
                            [owlDateTime]="birth_date_embed" id="birth_date_embed"
                        />   
                        <span class="input-group-addon" [owlDateTimeTrigger]="birth_date_embed">
                            <i class="fa fa-calendar"></i>
                        </span>      
                        <owl-date-time [pickerType]="'calendar'" [disabled]="dis_input_embed.birth_date" #birth_date_embed></owl-date-time>
                    </div>
                    <div class="col-md-offset-5 custom-date">
                        <show-error-valid [control]="embedForm.get('birth_date')"></show-error-valid>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-5 form-check">
                        <input class="form-check-input" type="checkbox" [disabled]="is_disable_checkbox"
                        (change)="dis_input_embed.personal_id = !dis_input_embed.personal_id" />&emsp;
                        <label class="col-form-label form-check-label">Chứng Minh Nhân Dân</label>
                    </div>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" formControlName="personal_id" 
                        (input)="stripText(ref_personal_id.value, 'personal_id')" #ref_personal_id
                        [attr.disabled]="dis_input_embed.personal_id ? 'disabled' : null" 
                        [class.error_user]="status_error.personal_id"/>
                        <show-error-valid [control]="embedForm.get('personal_id')"></show-error-valid>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-5 form-check">
                        <input class="form-check-input" type="checkbox" [disabled]="is_disable_checkbox"
                        (change)="dis_input_embed.address = !dis_input_embed.address" />&emsp;
                        <label class="col-form-label form-check-label">Địa Chỉ</label>
                    </div>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" formControlName="address"
                        [attr.disabled]="dis_input_embed.address ? 'disabled' : null" 
                        [class.error_user]="status_error.address"/>
                        <show-error-valid [control]="embedForm.get('address')"></show-error-valid>
                    </div>
                </div>
          
                <button class="btn btn-primary" (click)="onSubmitEmbed()" [disabled]="is_disabled_btn_embed">LƯU</button>
            </form>
        </div>
        <div class="col-xs-6 col-sm-6">
            <div class="row">
                <div class="col-sm-3 mgt-5">
                    <label class="col-form-label form-check-label">Card Barcode</label>
                </div>
                <div class="col-sm-9">
                    <div id="imaginary_container"> 
                        <div class="input-group stylish-input-group">
                            <input type="text" class="form-control" id="get_barcode" placeholder="Nhập card barcode cần tìm"
                                #search_barcode (input)="stripBarcode(search_barcode.value)"/>
                            <span class="input-group-addon">
                                <button (click)="searchBarcode(search_barcode.value)">
                                    <span class="glyphicon glyphicon-search"></span>
                                </button>  
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" *ngIf="errorMessage">
                <div class="col-sm-offset-3 col-sm-9">
                    <div class="alert alert-danger">
                        {{ errorMessage }}
                    </div>
                </div>
            </div>
        </div>
    </fieldset>
</div>